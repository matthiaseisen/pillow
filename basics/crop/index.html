<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>Pillow by Example</title>
<link rel="stylesheet" href="/docutils_basic.css" type="text/css" />
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-19171136-1', 'auto');
    ga('send', 'pageview');
</script> 
</head>
<body>
<div class="header">
<a class="reference external" href="/">Home</a> &gt; <a class="reference external" href="/pillow/">Pillow by Example</a> &gt; <a class="reference external" href="/pillow/basics/">Basics</a> &gt; <a class="reference external" href="/pillow/basics/crop/">Crop</a>
<hr class="header"/>
</div>
<div class="document" id="id1">
<h1 class="title">Pillow by Example</h1>
<h2 class="subtitle" id="cropping-images">Cropping Images</h2>

<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="auto-toc simple">
<li><a class="reference internal" href="#preparations" id="id2">1&nbsp;&nbsp;&nbsp;Preparations</a></li>
<li><a class="reference internal" href="#cropping" id="id3">2&nbsp;&nbsp;&nbsp;Cropping</a><ul class="auto-toc">
<li><a class="reference internal" href="#px-100px-starting-at-the-top-left-corner" id="id4">2.1&nbsp;&nbsp;&nbsp;100px * 100px starting at the top-left corner</a></li>
<li><a class="reference internal" href="#px-100px-starting-at-the-bottom-right-corner" id="id5">2.2&nbsp;&nbsp;&nbsp;100px * 100px starting at the bottom-right corner</a></li>
<li><a class="reference internal" href="#px-150px-starting-in-the-center" id="id6">2.3&nbsp;&nbsp;&nbsp;100px * 150px starting in the center</a></li>
<li><a class="reference internal" href="#pad-the-image-to-a-square" id="id7">2.4&nbsp;&nbsp;&nbsp;Pad the image to a square</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="preparations">
<h1><a class="toc-backref" href="#contents">1&nbsp;&nbsp;&nbsp;Preparations</a></h1>
<p>Import Pillow:</p>
<pre class="code python literal-block">
<span class="keyword namespace">from</span> <span class="name namespace">PIL</span> <span class="keyword namespace">import</span> <span class="name">Image</span>
</pre>
<p>Load the original image:</p>
<pre class="code python literal-block">
<span class="name">img</span> <span class="operator">=</span> <span class="name">Image</span><span class="operator">.</span><span class="name">open</span><span class="punctuation">(</span><span class="literal string">&quot;flowers.jpg&quot;</span><span class="punctuation">)</span>
</pre>
<div class="figure">
<img alt="flowers.jpg" src="flowers.jpg" />
<p class="caption">The original image (250px * 188px)</p>
</div>
</div>
<div class="section" id="cropping">
<h1><a class="toc-backref" href="#contents">2&nbsp;&nbsp;&nbsp;Cropping</a></h1>
<div class="section" id="px-100px-starting-at-the-top-left-corner">
<h2><a class="toc-backref" href="#contents">2.1&nbsp;&nbsp;&nbsp;100px * 100px starting at the top-left corner</a></h2>
<pre class="code python literal-block">
<span class="name">img2</span> <span class="operator">=</span> <span class="name">img</span><span class="operator">.</span><span class="name">crop</span><span class="punctuation">((</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">100</span><span class="punctuation">,</span> <span class="literal number integer">100</span><span class="punctuation">))</span>
</pre>
<div class="figure">
<img alt="img2.jpg" src="img2.jpg" />
<p class="caption">Cropped to 100px * 100px starting at the top-left corner</p>
</div>
</div>
<div class="section" id="px-100px-starting-at-the-bottom-right-corner">
<h2><a class="toc-backref" href="#contents">2.2&nbsp;&nbsp;&nbsp;100px * 100px starting at the bottom-right corner</a></h2>
<pre class="code python literal-block">
<span class="name">width</span> <span class="operator">=</span> <span class="name">img</span><span class="operator">.</span><span class="name">size</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span>
<span class="name">height</span> <span class="operator">=</span> <span class="name">img</span><span class="operator">.</span><span class="name">size</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span>
<span class="name">img3</span> <span class="operator">=</span> <span class="name">img</span><span class="operator">.</span><span class="name">crop</span><span class="punctuation">(</span>
    <span class="punctuation">(</span>
        <span class="name">width</span> <span class="operator">-</span> <span class="literal number integer">100</span><span class="punctuation">,</span>
        <span class="name">height</span> <span class="operator">-</span> <span class="literal number integer">100</span><span class="punctuation">,</span>
        <span class="name">width</span><span class="punctuation">,</span>
        <span class="name">height</span>
    <span class="punctuation">)</span>
<span class="punctuation">)</span>
</pre>
<div class="figure">
<img alt="img3.jpg" src="img3.jpg" />
<p class="caption">100px * 100px starting at the bottom-right corner</p>
</div>
</div>
<div class="section" id="px-150px-starting-in-the-center">
<h2><a class="toc-backref" href="#contents">2.3&nbsp;&nbsp;&nbsp;100px * 150px starting in the center</a></h2>
<pre class="code python literal-block">
<span class="name">half_the_width</span> <span class="operator">=</span> <span class="name">img</span><span class="operator">.</span><span class="name">size</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span> <span class="operator">/</span> <span class="literal number integer">2</span>
<span class="name">half_the_height</span> <span class="operator">=</span> <span class="name">img</span><span class="operator">.</span><span class="name">size</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span> <span class="operator">/</span> <span class="literal number integer">2</span>
<span class="name">img4</span> <span class="operator">=</span> <span class="name">img</span><span class="operator">.</span><span class="name">crop</span><span class="punctuation">(</span>
    <span class="punctuation">(</span>
        <span class="name">half_the_width</span> <span class="operator">-</span> <span class="literal number integer">50</span><span class="punctuation">,</span>
        <span class="name">half_the_height</span> <span class="operator">-</span> <span class="literal number integer">75</span><span class="punctuation">,</span>
        <span class="name">half_the_width</span> <span class="operator">+</span> <span class="literal number integer">50</span><span class="punctuation">,</span>
        <span class="name">half_the_height</span> <span class="operator">+</span> <span class="literal number integer">75</span>
    <span class="punctuation">)</span>
<span class="punctuation">)</span>
</pre>
<div class="figure">
<img alt="img4.jpg" src="img4.jpg" />
<p class="caption">100px * 150px starting in the center</p>
</div>
</div>
<div class="section" id="pad-the-image-to-a-square">
<h2><a class="toc-backref" href="#contents">2.4&nbsp;&nbsp;&nbsp;Pad the image to a square</a></h2>
<pre class="code python literal-block">
<span class="name">longer_side</span> <span class="operator">=</span> <span class="name builtin">max</span><span class="punctuation">(</span><span class="name">img</span><span class="operator">.</span><span class="name">size</span><span class="punctuation">)</span>
<span class="name">horizontal_padding</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="name">longer_side</span> <span class="operator">-</span> <span class="name">img</span><span class="operator">.</span><span class="name">size</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">])</span> <span class="operator">/</span> <span class="literal number integer">2</span>
<span class="name">vertical_padding</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="name">longer_side</span> <span class="operator">-</span> <span class="name">img</span><span class="operator">.</span><span class="name">size</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">])</span> <span class="operator">/</span> <span class="literal number integer">2</span>
<span class="name">img5</span> <span class="operator">=</span> <span class="name">img</span><span class="operator">.</span><span class="name">crop</span><span class="punctuation">(</span>
    <span class="punctuation">(</span>
        <span class="operator">-</span><span class="name">horizontal_padding</span><span class="punctuation">,</span>
        <span class="operator">-</span><span class="name">vertical_padding</span><span class="punctuation">,</span>
        <span class="name">img</span><span class="operator">.</span><span class="name">size</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="name">horizontal_padding</span><span class="punctuation">,</span>
        <span class="name">img</span><span class="operator">.</span><span class="name">size</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="name">vertical_padding</span>
    <span class="punctuation">)</span>
<span class="punctuation">)</span>
</pre>
<div class="figure">
<img alt="img5.jpg" src="img5.jpg" />
<p class="caption">Padded to a square</p>
</div>
</div>
</div>
</div>
<div class="footer">
<hr class="footer" />
Copyright 2014 <a class="reference external" href="/">Matthias Eisen</a>
</div>
</body>
</html>
